<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Command App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Josefin+Sans:wght@700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
    <div id="removeAfter">
        <form id="nameForm" class="fade show">
            <h1>Welcome to EmpathEase</h1>
            <p class="subtitle">
                We understand the pressures and challenges of the workplace.
            </p>
            <p class="subtitle">
                 Here, you are free to vent, share, and communicate your feelings without judgment.
            </p>
            <p id="nameText">How should I address you?</p>
            <div class="input-form">
                <input type="text" id="firstname" placeholder="Enter your first name">
                <button type="submit" class="submit">Start Session</button>
            </div>
            <p class="promise">
                <strong>Our Promise:</strong> Complete confidentiality. Your words, feelings, and identity will always be protected.
            </p>
        </form>
        <h1 id="hiText" class="fade"></h1>
    </div>
    <div id="uiInterface" class="fade">
        <h1>How can I help you?</h1>
        <div class="rotating-svg-container">
            <svg id="rotatingSvg" width="272" height="273" viewBox="0 0 272 273" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M250.124 134.165C250.124 192.171 197.332 239.422 131.912 239.422C66.493 239.422 13.7007 192.171 13.7007 134.165C13.7007 76.159 66.493 28.9083 131.912 28.9083C197.332 28.9083 250.124 76.159 250.124 134.165Z" stroke="white" stroke-width="2.39793"/>
                <path d="M239.353 134.451C239.353 199.219 191.373 251.536 132.406 251.536C73.44 251.536 25.46 199.219 25.46 134.451C25.46 69.683 73.44 17.3656 132.406 17.3656C191.373 17.3656 239.353 69.683 239.353 134.451Z" stroke="white" stroke-width="2.39793"/>
                <path d="M252.871 135.014C252.871 193.02 200.079 240.271 134.66 240.271C69.24 240.271 16.448 193.02 16.448 135.014C16.448 77.008 69.24 29.7573 134.66 29.7573C200.079 29.7573 252.871 77.008 252.871 135.014Z" stroke="white" stroke-width="2.39793"/>
                <path d="M227.572 202.565C194.522 256.82 126.639 271.507 75.966 235.444C25.293 199.381 10.9508 126.175 44.001 71.9199C77.05 17.6656 144.933 2.97805 195.606 39.0409C246.279 75.1049 260.621 148.31 227.572 202.565Z" stroke="white" stroke-width="2.39793"/>
                <g filter="url(#filter0_f_8_386)">
                <path d="M240.48 134.451C240.48 199.219 192.499 251.536 133.533 251.536C74.5669 251.536 26.5859 199.219 26.5859 134.451C26.5859 69.683 74.5669 17.3656 133.533 17.3656C192.499 17.3656 240.48 69.683 240.48 134.451Z" stroke="white" stroke-width="2.39793"/>
                </g>
                <g filter="url(#filter1_f_8_386)">
                <path d="M253.998 135.014C253.998 193.02 201.206 240.271 135.786 240.271C70.366 240.271 17.574 193.02 17.574 135.014C17.574 77.008 70.366 29.7573 135.786 29.7573C201.206 29.7573 253.998 77.008 253.998 135.014Z" stroke="white" stroke-width="2.39793"/>
                </g>
                <g filter="url(#filter2_f_8_386)">
                <path d="M228.698 202.565C195.648 256.82 127.766 271.507 77.092 235.444C26.419 199.381 12.0773 126.175 45.127 71.9199C78.177 17.6656 146.059 2.97805 196.733 39.0409C247.406 75.1049 261.748 148.31 228.698 202.565Z" stroke="white" stroke-width="2.39793"/>
                </g>
                <path d="M226.858 82.7941C260.09 141.655 243.328 213.821 189.739 244.076C136.15 274.331 65.701 251.402 32.469 192.541C-0.762693 133.679 15.999 61.5141 69.588 31.2588C123.177 1.00376 193.626 23.9321 226.858 82.7941Z" stroke="#F5F5F5" stroke-opacity="0.04" stroke-width="2.50259"/>
                <path d="M239.432 76.37C269.195 129.086 245.461 199.116 186.006 232.682C126.552 266.248 54.33 250.393 24.568 197.677C-5.1946 144.96 18.539 74.931 77.994 41.365C137.448 7.79833 209.67 23.6533 239.432 76.37Z" stroke="#F5F5F5" stroke-opacity="0.04" stroke-width="2.50259"/>
                <path d="M251.099 150.742C248.901 217.007 194.744 265.185 130.188 258.41C65.632 251.636 15.037 192.464 17.235 126.199C19.433 59.9339 73.59 11.756 138.146 18.5308C202.702 25.3055 253.298 84.4769 251.099 150.742Z" stroke="#F5F5F5" stroke-opacity="0.04" stroke-width="2.50259"/>
                <path opacity="0.0344828" d="M44.648 72.5549C45.692 71.3099 47.27 70.533 49.36 70.22C51.452 69.906 54.038 70.0609 57.061 70.6649C63.106 71.8729 70.835 74.866 79.728 79.39C97.509 88.436 119.879 103.57 142.619 122.651C165.359 141.732 184.147 161.134 196.143 177.074C202.143 185.046 206.432 192.139 208.672 197.882C209.792 200.754 210.393 203.274 210.447 205.389C210.502 207.501 210.01 209.19 208.967 210.434C207.923 211.678 206.344 212.455 204.255 212.769C202.163 213.083 199.577 212.928 196.554 212.324C190.509 211.116 182.779 208.122 173.887 203.599C156.106 194.553 133.735 179.419 110.996 160.338C88.256 141.257 69.467 121.854 57.471 105.914C51.472 97.942 47.182 90.8499 44.942 85.1069C43.823 82.2349 43.221 79.715 43.167 77.6C43.113 75.488 43.604 73.7989 44.648 72.5549Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.0689655" d="M50.969 64.798C52.118 63.65 53.757 63.013 55.867 62.883C57.978 62.753 60.541 63.132 63.499 63.997C69.416 65.728 76.855 69.383 85.32 74.665C102.244 85.226 123.211 102.252 144.201 123.242C165.191 144.233 182.218 165.199 192.778 182.124C198.06 190.588 201.716 198.027 203.446 203.944C204.311 206.903 204.691 209.465 204.561 211.577C204.43 213.686 203.794 215.326 202.645 216.474C201.497 217.623 199.857 218.259 197.748 218.389C195.636 218.52 193.074 218.14 190.115 217.275C184.199 215.544 176.759 211.889 168.295 206.607C151.37 196.046 130.404 179.02 109.414 158.03C88.423 137.04 71.397 116.073 60.836 99.149C55.554 90.684 51.899 83.245 50.169 77.328C49.303 74.37 48.924 71.807 49.054 69.695C49.184 67.586 49.821 65.946 50.969 64.798Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.103448" d="M57.8679 57.6179C59.1119 56.5739 60.8009 56.0829 62.9129 56.1369C65.0279 56.1919 67.5479 56.7929 70.4199 57.9129C76.1629 60.1519 83.2549 64.4419 91.2269 70.4419C107.167 82.4369 126.57 101.226 145.651 123.966C164.732 146.706 179.866 169.076 188.912 186.857C193.435 195.75 196.429 203.479 197.637 209.524C198.241 212.547 198.396 215.133 198.082 217.225C197.768 219.315 196.991 220.893 195.747 221.937C194.503 222.981 192.814 223.472 190.702 223.418C188.587 223.363 186.067 222.762 183.195 221.642C177.452 219.403 170.359 215.113 162.387 209.113C146.447 197.118 127.045 178.329 107.964 155.589C88.8829 132.849 73.7489 110.479 64.7029 92.6979C60.1789 83.8049 57.1859 76.076 55.9779 70.031C55.3739 67.008 55.2189 64.4219 55.5329 62.3299C55.8459 60.2399 56.6229 58.6619 57.8679 57.6179Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.137931" d="M65.291 51.063C66.621 50.132 68.346 49.79 70.446 50.028C72.548 50.266 75.006 51.085 77.769 52.451C83.296 55.182 89.987 60.074 97.406 66.745C112.24 80.085 129.931 100.493 146.957 124.809C163.984 149.126 177.111 172.73 184.572 191.232C188.304 200.485 190.612 208.446 191.289 214.573C191.627 217.637 191.556 220.226 191.061 222.283C190.566 224.338 189.655 225.842 188.324 226.774C186.994 227.705 185.268 228.047 183.169 227.809C181.067 227.571 178.609 226.752 175.846 225.386C170.319 222.655 163.628 217.763 156.209 211.092C141.375 197.752 123.684 177.344 106.657 153.028C89.631 128.711 76.504 105.107 69.043 86.605C65.311 77.352 63.003 69.391 62.326 63.264C61.988 60.2 62.059 57.611 62.554 55.554C63.049 53.499 63.96 51.995 65.291 51.063Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.172414" d="M73.181 45.178C74.588 44.366 76.337 44.175 78.407 44.595C80.481 45.016 82.858 46.046 85.492 47.647C90.759 50.85 96.998 56.306 103.808 63.599C117.422 78.18 133.268 100.053 148.11 125.761C162.952 151.468 173.972 176.127 179.792 195.209C182.703 204.752 184.309 212.883 184.449 219.046C184.519 222.128 184.222 224.702 183.55 226.707C182.878 228.711 181.839 230.13 180.433 230.942C179.026 231.754 177.277 231.945 175.207 231.525C173.133 231.104 170.756 230.074 168.122 228.473C162.855 225.27 156.616 219.813 149.806 212.521C136.192 197.939 120.346 176.067 105.504 150.359C90.662 124.652 79.642 99.993 73.822 80.911C70.911 71.368 69.305 63.237 69.165 57.073C69.095 53.992 69.392 51.418 70.064 49.412C70.736 47.409 71.775 45.99 73.181 45.178Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.206897" d="M81.481 39.998C82.953 39.312 84.712 39.275 86.738 39.874C88.767 40.474 91.045 41.707 93.529 43.532C98.497 47.181 104.238 53.161 110.385 61.019C122.677 76.732 136.556 99.902 149.101 126.805C161.647 153.709 170.475 179.234 174.61 198.75C176.679 208.511 177.569 216.751 177.172 222.903C176.973 225.979 176.453 228.517 175.608 230.457C174.765 232.394 173.606 233.717 172.134 234.404C170.662 235.09 168.903 235.127 166.877 234.528C164.848 233.929 162.57 232.696 160.086 230.871C155.117 227.221 149.377 221.242 143.23 213.383C130.938 197.671 117.059 174.5 104.514 147.597C91.968 120.693 83.14 95.168 79.005 75.652C76.936 65.892 76.046 57.651 76.443 51.499C76.642 48.423 77.162 45.885 78.007 43.945C78.85 42.008 80.009 40.685 81.481 39.998Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.241379" d="M90.125 35.5589C91.651 35.0034 93.407 35.1195 95.373 35.893C97.342 36.6673 99.504 38.094 101.82 40.129C106.451 44.198 111.648 50.654 117.087 59.019C127.963 75.743 139.77 100.034 149.922 127.929C160.075 155.823 166.645 182.021 169.064 201.823C170.274 211.727 170.443 220.014 169.511 226.108C169.044 229.155 168.305 231.638 167.295 233.496C166.286 235.353 165.016 236.57 163.49 237.125C161.963 237.681 160.208 237.565 158.242 236.791C156.273 236.017 154.111 234.59 151.795 232.556C147.164 228.487 141.967 222.03 136.527 213.666C125.652 196.942 113.845 172.65 103.692 144.755C93.54 116.861 86.969 90.663 84.551 70.861C83.341 60.957 83.172 52.67 84.104 46.577C84.57 43.53 85.309 41.047 86.32 39.188C87.329 37.332 88.599 36.1144 90.125 35.5589Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.275862" d="M99.049 31.8869C100.617 31.4666 102.356 31.7352 104.247 32.6771C106.141 33.62 108.171 35.2298 110.3 37.459C114.559 41.916 119.174 48.801 123.863 57.607C133.24 75.216 142.885 100.444 150.568 129.117C158.251 157.79 162.513 184.461 163.196 204.399C163.538 214.37 162.984 222.64 161.524 228.63C160.794 231.624 159.842 234.033 158.673 235.797C157.506 237.558 156.135 238.66 154.566 239.081C152.997 239.501 151.259 239.232 149.367 238.29C147.473 237.347 145.444 235.738 143.314 233.509C139.055 229.052 134.441 222.167 129.751 213.36C120.374 195.752 110.73 170.523 103.047 141.85C95.364 113.177 91.102 86.507 90.418 66.569C90.077 56.597 90.63 48.327 92.09 42.338C92.82 39.343 93.773 36.9341 94.941 35.1706C96.109 33.4091 97.48 32.3072 99.049 31.8869Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.310345" d="M108.184 29.0032C109.783 28.7212 111.491 29.1403 113.294 30.2435C115.098 31.3479 116.98 33.1285 118.907 35.5343C122.761 40.346 126.758 47.607 130.662 56.788C138.469 75.147 145.878 101.12 151.032 130.354C156.187 159.587 158.108 186.528 157.052 206.449C156.523 216.413 155.25 224.603 153.274 230.442C152.286 233.362 151.127 235.679 149.809 237.334C148.493 238.987 147.031 239.965 145.432 240.247C143.832 240.529 142.124 240.11 140.321 239.007C138.517 237.902 136.636 236.122 134.708 233.716C130.854 228.905 126.857 221.643 122.953 212.462C115.146 194.103 107.737 168.13 102.583 138.897C97.428 109.663 95.507 82.722 96.564 62.801C97.092 52.838 98.365 44.647 100.341 38.808C101.329 35.8881 102.488 33.5714 103.806 31.9164C105.122 30.2634 106.584 29.2852 108.184 29.0032Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.344828" d="M117.46 26.9234C119.078 26.7818 120.743 27.3483 122.442 28.6043C124.144 29.8618 125.863 31.7996 127.573 34.3642C130.993 39.493 134.342 47.075 137.431 56.562C143.608 75.531 148.725 102.051 151.312 131.623C153.9 161.194 153.465 188.2 150.677 207.953C149.282 217.833 147.3 225.881 144.823 231.526C143.584 234.348 142.227 236.555 140.77 238.089C139.315 239.621 137.773 240.468 136.155 240.61C134.537 240.751 132.872 240.185 131.172 238.929C129.471 237.671 127.752 235.734 126.042 233.169C122.622 228.04 119.273 220.458 116.183 210.971C110.007 192.002 104.89 165.482 102.303 135.91C99.7149 106.339 100.149 79.333 102.938 59.58C104.333 49.7 106.315 41.652 108.792 36.0073C110.031 33.1847 111.388 30.9778 112.845 29.444C114.3 27.912 115.842 27.0649 117.46 26.9234Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.37931" d="M126.807 25.6561C128.431 25.6561 130.041 26.3656 131.624 27.7649C133.21 29.1659 134.753 31.2461 136.234 33.95C139.194 39.358 141.869 47.203 144.12 56.923C148.62 76.358 151.406 103.223 151.406 132.907C151.406 162.592 148.62 189.457 144.12 208.892C141.869 218.612 139.194 226.457 136.234 231.865C134.753 234.569 133.21 236.649 131.624 238.05C130.041 239.449 128.431 240.159 126.807 240.159C125.183 240.159 123.574 239.449 121.99 238.05C120.405 236.649 118.861 234.569 117.381 231.865C114.421 226.457 111.746 218.612 109.495 208.892C104.995 189.457 102.209 162.592 102.209 132.907C102.209 103.223 104.995 76.358 109.495 56.923C111.746 47.203 114.421 39.358 117.381 33.95C118.861 31.2461 120.405 29.1659 121.99 27.7649C123.574 26.3656 125.183 25.6561 126.807 25.6561Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.413793" d="M136.155 25.2053C137.773 25.3468 139.315 26.1939 140.77 27.7259C142.227 29.2597 143.584 31.4666 144.822 34.2892C147.3 39.9339 149.282 47.9829 150.676 57.8619C153.465 77.6149 153.899 104.621 151.312 134.192C148.725 163.764 143.608 190.284 137.431 209.253C134.342 218.74 130.993 226.322 127.573 231.451C125.863 234.016 124.144 235.953 122.442 237.211C120.743 238.467 119.078 239.033 117.46 238.892C115.842 238.75 114.3 237.903 112.845 236.371C111.388 234.837 110.031 232.63 108.792 229.808C106.315 224.163 104.333 216.115 102.938 206.235C100.149 186.482 99.715 159.476 102.302 129.905C104.89 100.333 110.007 73.8129 116.183 54.8439C119.272 45.3569 122.622 37.7749 126.042 32.6461C127.752 30.0815 129.471 28.1437 131.172 26.8862C132.872 25.6302 134.537 25.0637 136.155 25.2053Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.448276" d="M145.431 25.5676C147.031 25.8496 148.493 26.8278 149.809 28.4808C151.127 30.1358 152.286 32.4525 153.274 35.3723C155.25 41.212 156.523 49.402 157.051 59.365C158.108 79.287 156.187 106.227 151.032 135.461C145.877 164.695 138.469 190.668 130.662 209.026C126.758 218.208 122.761 225.469 118.907 230.28C116.979 232.686 115.098 234.467 113.293 235.571C111.491 236.674 109.783 237.093 108.183 236.811C106.584 236.529 105.122 235.551 103.806 233.898C102.488 232.243 101.329 229.927 100.34 227.007C98.364 221.167 97.092 212.977 96.563 203.014C95.507 183.092 97.428 156.152 102.582 126.918C107.737 97.684 115.146 71.711 122.953 53.353C126.857 44.171 130.854 36.91 134.708 32.0987C136.635 29.6929 138.517 27.9123 140.321 26.8078C142.123 25.7047 143.832 25.2856 145.431 25.5676Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.482759" d="M154.566 26.7346C156.135 27.1549 157.506 28.2568 158.673 30.0183C159.842 31.7818 160.794 34.1907 161.524 37.186C162.984 43.175 163.538 51.445 163.196 61.416C162.512 81.354 158.25 108.025 150.567 136.698C142.885 165.371 133.24 190.599 123.863 208.208C119.174 217.014 114.559 223.899 110.3 228.357C108.171 230.585 106.141 232.195 104.247 233.138C102.356 234.08 100.617 234.349 99.048 233.928C97.48 233.508 96.108 232.406 94.941 230.644C93.773 228.881 92.82 226.472 92.09 223.477C90.63 217.488 90.076 209.218 90.418 199.246C91.102 179.309 95.364 152.638 103.047 123.965C110.73 95.292 120.374 70.063 129.751 52.455C134.441 43.648 139.055 36.7633 143.314 32.3062C145.444 30.0775 147.473 28.4677 149.367 27.5247C151.259 26.5829 152.997 26.3142 154.566 26.7346Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.517241" d="M163.49 28.6892C165.016 29.2446 166.286 30.4618 167.295 32.3183C168.305 34.177 169.045 36.6598 169.511 39.7069C170.443 45.8009 170.274 54.0879 169.064 63.9909C166.646 83.7939 160.075 109.991 149.923 137.886C139.77 165.78 127.963 190.072 117.088 206.796C111.648 215.16 106.451 221.617 101.82 225.686C99.504 227.721 97.342 229.147 95.373 229.922C93.407 230.695 91.652 230.811 90.125 230.256C88.599 229.7 87.329 228.483 86.32 226.627C85.31 224.768 84.571 222.285 84.104 219.238C83.172 213.144 83.341 204.857 84.551 194.954C86.97 175.151 93.54 148.954 103.693 121.059C113.845 93.165 125.652 68.873 136.528 52.149C141.967 43.785 147.164 37.328 151.795 33.259C154.111 31.2244 156.273 29.7976 158.242 29.0232C160.208 28.2498 161.964 28.1337 163.49 28.6892Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.551724" d="M172.133 31.4115C173.605 32.0979 174.764 33.4212 175.608 35.3585C176.453 37.298 176.972 39.836 177.171 42.912C177.569 49.064 176.678 57.305 174.61 67.065C170.475 86.581 161.646 112.107 149.101 139.01C136.556 165.913 122.677 189.084 110.385 204.796C104.237 212.655 98.4969 218.634 93.5289 222.284C91.0449 224.109 88.7659 225.342 86.7379 225.942C84.7109 226.541 82.9529 226.503 81.4809 225.817C80.0089 225.131 78.8499 223.807 78.0059 221.87C77.1609 219.93 76.6409 217.392 76.4429 214.316C76.0449 208.164 76.9359 199.924 79.0039 190.163C83.1389 170.647 91.9679 145.122 104.513 118.218C117.058 91.315 130.937 68.145 143.229 52.432C149.377 44.574 155.117 38.595 160.085 34.9447C162.569 33.1197 164.848 31.8867 166.876 31.2869C168.903 30.6878 170.661 30.7252 172.133 31.4115Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.586207" d="M180.433 34.8724C181.839 35.6845 182.879 37.1039 183.55 39.1069C184.222 41.1129 184.519 43.6869 184.449 46.7679C184.309 52.9309 182.703 61.0629 179.792 70.6059C173.972 89.6879 162.952 114.346 148.11 140.054C133.268 165.762 117.422 187.634 103.808 202.216C96.999 209.508 90.759 214.965 85.492 218.168C82.858 219.769 80.481 220.799 78.408 221.22C76.337 221.64 74.588 221.449 73.181 220.637C71.775 219.825 70.736 218.406 70.064 216.402C69.392 214.396 69.095 211.823 69.165 208.741C69.305 202.578 70.911 194.447 73.822 184.903C79.642 165.822 90.662 141.163 105.504 115.456C120.346 89.7479 136.192 67.8749 149.806 53.2939C156.616 46.0009 162.855 40.5449 168.122 37.3419C170.756 35.7405 173.133 34.7108 175.207 34.2901C177.277 33.8699 179.026 34.0604 180.433 34.8724Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.62069" d="M188.324 39.041C189.655 39.973 190.566 41.477 191.061 43.532C191.556 45.589 191.627 48.178 191.289 51.242C190.612 57.37 188.304 65.33 184.572 74.583C177.111 93.085 163.984 116.689 146.958 141.006C129.931 165.322 112.24 185.73 97.406 199.07C89.987 205.741 83.296 210.633 77.769 213.364C75.006 214.73 72.548 215.549 70.446 215.787C68.347 216.025 66.621 215.683 65.291 214.752C63.96 213.82 63.049 212.316 62.554 210.261C62.059 208.204 61.988 205.615 62.326 202.551C63.003 196.424 65.311 188.463 69.043 179.21C76.504 160.708 89.631 137.104 106.658 112.787C123.684 88.471 141.375 68.063 156.209 54.723C163.628 48.052 170.319 43.16 175.846 40.429C178.609 39.063 181.067 38.244 183.169 38.006C185.269 37.768 186.994 38.11 188.324 39.041Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.655172" d="M195.747 43.878C196.991 44.922 197.768 46.4999 198.082 48.5899C198.395 50.6819 198.241 53.268 197.637 56.291C196.428 62.336 193.435 70.0649 188.911 78.9579C179.866 96.7389 164.732 119.109 145.651 141.849C126.57 164.589 107.167 183.378 91.2269 195.373C83.2549 201.373 76.1629 205.663 70.4199 207.902C67.5479 209.022 65.0279 209.623 62.9129 209.678C60.8009 209.732 59.1119 209.241 57.8669 208.197C56.6229 207.153 55.8459 205.575 55.5329 203.485C55.2189 201.393 55.3739 198.807 55.9779 195.784C57.1859 189.739 60.1789 182.01 64.7029 173.117C73.7489 155.336 88.8829 132.966 107.964 110.226C127.045 87.486 146.447 68.697 162.387 56.702C170.359 50.702 177.451 46.4119 183.195 44.1729C186.067 43.0529 188.587 42.452 190.701 42.397C192.814 42.343 194.503 42.834 195.747 43.878Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.689655" d="M202.645 49.341C203.794 50.489 204.43 52.1289 204.56 54.2379C204.691 56.3499 204.311 58.912 203.446 61.871C201.715 67.788 198.06 75.2269 192.778 83.6909C182.217 100.616 165.191 121.583 144.201 142.573C123.211 163.563 102.244 180.589 85.32 191.15C76.855 196.432 69.416 200.087 63.499 201.818C60.541 202.683 57.978 203.062 55.866 202.932C53.757 202.802 52.117 202.166 50.969 201.017C49.821 199.869 49.184 198.229 49.054 196.12C48.924 194.008 49.303 191.446 50.168 188.487C51.899 182.57 55.554 175.131 60.836 166.667C71.397 149.742 88.423 128.775 109.413 107.785C130.404 86.795 151.37 69.7689 168.295 59.2079C176.759 53.9259 184.198 50.2709 190.115 48.5399C193.074 47.6749 195.636 47.296 197.748 47.426C199.857 47.556 201.497 48.192 202.645 49.341Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.724138" d="M208.967 55.38C210.011 56.624 210.502 58.313 210.448 60.425C210.394 62.54 209.792 65.06 208.672 67.932C206.433 73.675 202.143 80.768 196.144 88.74C184.148 104.68 165.359 124.082 142.619 143.163C119.879 162.244 97.509 177.378 79.728 186.424C70.835 190.948 63.106 193.941 57.061 195.149C54.038 195.753 51.452 195.908 49.36 195.594C47.27 195.281 45.692 194.504 44.648 193.259C43.604 192.015 43.113 190.326 43.167 188.214C43.222 186.099 43.823 183.579 44.943 180.707C47.182 174.964 51.472 167.872 57.472 159.9C69.467 143.96 88.256 124.557 110.996 105.476C133.736 86.395 156.106 71.261 173.887 62.215C182.78 57.691 190.509 54.698 196.554 53.49C199.577 52.886 202.163 52.731 204.255 53.045C206.345 53.359 207.923 54.136 208.967 55.38Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.758621" d="M214.663 61.9441C215.594 63.2751 215.936 65.0001 215.698 67.1001C215.46 69.2021 214.641 71.6601 213.275 74.4231C210.544 79.9491 205.652 86.6411 198.981 94.0591C185.641 108.893 165.233 126.585 140.917 143.611C116.6 160.637 92.996 173.764 74.494 181.226C65.241 184.957 57.28 187.265 51.153 187.942C48.089 188.281 45.5 188.209 43.443 187.714C41.388 187.22 39.884 186.308 38.952 184.978C38.021 183.648 37.679 181.922 37.917 179.822C38.155 177.72 38.974 175.263 40.34 172.499C43.071 166.973 47.963 160.281 54.634 152.863C67.974 138.029 88.382 120.338 112.698 103.311C137.015 86.2851 160.619 73.1581 179.121 65.6971C188.374 61.9651 196.335 59.6571 202.462 58.9801C205.526 58.6421 208.115 58.7131 210.172 59.2081C212.227 59.7021 213.731 60.6141 214.663 61.9441Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.793103" d="M219.689 68.977C220.501 70.383 220.692 72.132 220.272 74.203C219.851 76.277 218.821 78.653 217.22 81.287C214.017 86.555 208.561 92.794 201.268 99.603C186.687 113.218 164.814 129.063 139.106 143.906C113.399 158.748 88.74 169.768 69.658 175.588C60.115 178.499 51.984 180.104 45.82 180.245C42.739 180.315 40.165 180.018 38.159 179.346C36.156 178.674 34.737 177.635 33.925 176.228C33.113 174.822 32.922 173.073 33.342 171.002C33.763 168.929 34.793 166.552 36.394 163.918C39.597 158.651 45.053 152.411 52.346 145.602C66.927 131.987 88.8 116.142 114.508 101.3C140.215 86.457 164.874 75.438 183.956 69.617C193.499 66.706 201.63 65.101 207.794 64.961C210.875 64.891 213.449 65.187 215.455 65.86C217.458 66.531 218.877 67.571 219.689 68.977Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.827586" d="M224.01 76.4179C224.696 77.8899 224.733 79.6479 224.134 81.6749C223.535 83.7039 222.302 85.9819 220.477 88.4659C216.827 93.4339 210.848 99.1739 202.989 105.322C187.277 117.614 164.106 131.493 137.203 144.038C110.299 156.583 84.774 165.412 65.258 169.547C55.497 171.615 47.257 172.506 41.105 172.108C38.029 171.91 35.491 171.39 33.551 170.545C31.614 169.701 30.291 168.542 29.604 167.07C28.918 165.599 28.881 163.84 29.48 161.813C30.08 159.785 31.313 157.506 33.138 155.022C36.787 150.054 42.767 144.314 50.625 138.166C66.338 125.874 89.508 111.996 116.411 99.4499C143.315 86.9049 168.84 78.0759 188.356 73.9409C198.117 71.8729 206.357 70.9819 212.509 71.3799C215.585 71.5789 218.123 72.0989 220.063 72.9429C222 73.7869 223.323 74.9459 224.01 76.4179Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.862069" d="M227.59 84.203C228.146 85.729 228.03 87.484 227.256 89.451C226.482 91.42 225.055 93.582 223.021 95.897C218.952 100.528 212.495 105.726 204.131 111.165C187.407 122.041 163.115 133.847 135.22 144C107.326 154.153 81.128 160.723 61.326 163.142C51.422 164.351 43.135 164.52 37.042 163.588C33.994 163.122 31.512 162.383 29.653 161.373C27.797 160.363 26.579 159.093 26.024 157.567C25.468 156.041 25.584 154.286 26.358 152.319C27.132 150.35 28.559 148.188 30.594 145.873C34.663 141.242 41.119 136.044 49.484 130.605C66.208 119.729 90.499 107.923 118.394 97.77C146.288 87.617 172.486 81.047 192.288 78.628C202.192 77.419 210.479 77.25 216.573 78.182C219.62 78.648 222.102 79.387 223.961 80.398C225.818 81.407 227.035 82.677 227.59 84.203Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.896552" d="M230.404 92.268C230.824 93.836 230.556 95.575 229.614 97.466C228.671 99.36 227.061 101.39 224.832 103.519C220.375 107.778 213.49 112.393 204.684 117.082C187.075 126.459 161.847 136.104 133.174 143.787C104.5 151.47 77.83 155.732 57.892 156.415C47.921 156.757 39.651 156.203 33.661 154.743C30.666 154.013 28.258 153.061 26.494 151.892C24.733 150.725 23.631 149.354 23.21 147.785C22.79 146.216 23.059 144.478 24 142.586C24.943 140.692 26.553 138.663 28.782 136.533C33.239 132.274 40.124 127.66 48.931 122.97C66.539 113.593 91.767 103.949 120.441 96.266C149.114 88.583 175.784 84.321 195.722 83.637C205.693 83.296 213.964 83.849 219.953 85.309C222.948 86.039 225.357 86.992 227.12 88.16C228.882 89.328 229.984 90.699 230.404 92.268Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.931035" d="M232.429 100.544C232.711 102.143 232.291 103.851 231.188 105.654C230.084 107.458 228.303 109.34 225.898 111.267C221.086 115.121 213.825 119.118 204.643 123.022C186.285 130.829 160.312 138.238 131.078 143.392C101.844 148.547 74.904 150.468 54.983 149.412C45.019 148.883 36.829 147.61 30.99 145.634C28.07 144.646 25.753 143.487 24.098 142.169C22.445 140.853 21.467 139.391 21.185 137.792C20.903 136.192 21.322 134.484 22.425 132.681C23.53 130.877 25.31 128.995 27.716 127.068C32.527 123.214 39.788 119.217 48.97 115.313C67.329 107.506 93.301 100.097 122.535 94.943C151.769 89.788 178.709 87.867 198.631 88.924C208.594 89.452 216.784 90.725 222.624 92.701C225.544 93.689 227.86 94.848 229.515 96.166C231.168 97.482 232.147 98.944 232.429 100.544Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path opacity="0.965517" d="M233.651 108.961C233.792 110.579 233.226 112.245 231.97 113.944C230.712 115.645 228.774 117.365 226.21 119.075C221.081 122.495 213.499 125.844 204.012 128.933C185.043 135.11 158.523 140.227 128.951 142.814C99.38 145.401 72.374 144.967 52.621 142.178C42.741 140.783 34.693 138.802 29.048 136.324C26.225 135.085 24.019 133.729 22.485 132.272C20.953 130.816 20.106 129.275 19.964 127.657C19.823 126.039 20.389 124.373 21.645 122.674C22.903 120.973 24.84 119.254 27.405 117.543C32.534 114.123 40.116 110.774 49.603 107.685C68.572 101.508 95.092 96.3911 124.663 93.8041C154.235 91.2171 181.241 91.6511 200.994 94.4401C210.873 95.8351 218.922 97.8161 224.567 100.294C227.389 101.533 229.596 102.889 231.13 104.346C232.662 105.802 233.509 107.344 233.651 108.961Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <path d="M234.058 117.45C234.058 119.074 233.349 120.684 231.949 122.268C230.548 123.853 228.468 125.396 225.764 126.877C220.357 129.837 212.512 132.512 202.792 134.763C183.356 139.263 156.492 142.049 126.807 142.049C97.122 142.049 70.257 139.263 50.822 134.763C41.102 132.512 33.257 129.837 27.85 126.877C25.146 125.396 23.065 123.853 21.664 122.268C20.265 120.684 19.556 119.074 19.556 117.45C19.556 115.826 20.265 114.217 21.664 112.633C23.065 111.048 25.146 109.504 27.85 108.024C33.257 105.064 41.102 102.389 50.822 100.138C70.257 95.638 97.122 92.8521 126.807 92.8521C156.492 92.8521 183.356 95.638 202.792 100.138C212.512 102.389 220.357 105.064 225.764 108.024C228.468 109.504 230.548 111.048 231.949 112.633C233.349 114.217 234.058 115.826 234.058 117.45Z" stroke="white" stroke-opacity="0.06" stroke-width="0.609304"/>
                <defs>
                <filter id="filter0_f_8_386" x="9.40078" y="0.180446" width="248.264" height="268.541" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                <feGaussianBlur stdDeviation="7.99309" result="effect1_foregroundBlur_8_386"/>
                </filter>
                <filter id="filter1_f_8_386" x="0.38882" y="12.5722" width="270.794" height="244.884" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                <feGaussianBlur stdDeviation="7.99309" result="effect1_foregroundBlur_8_386"/>
                </filter>
                <filter id="filter2_f_8_386" x="10.1562" y="2.10171" width="253.513" height="270.282" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                <feGaussianBlur stdDeviation="7.99309" result="effect1_foregroundBlur_8_386"/>
                </filter>
                </defs>
            </svg>  
        </div>
        <p id="recordText">Press audio button to start a conversation</p>
        <button onclick="handleButtonClick()">
            <svg id="buttonSvg" width="162" height="161" viewBox="0 0 162 161" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="80.9999" cy="80.5768" r="79.568" fill="#1F222A" stroke="#2E2F38" stroke-width="0.953112"/>
                <circle cx="80.9999" cy="80.5769" r="53.0309" fill="#2C2D35" stroke="url(#paint0_linear_12_562)" stroke-width="0.606595"/>
                <circle cx="80.9999" cy="80.5769" r="40.4104" fill="url(#paint1_radial_12_562)" stroke="url(#paint2_linear_12_562)" stroke-width="0.467584"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M81.2058 61.9025C75.093 61.9025 70.1376 66.8579 70.1376 72.9707V81.6671C70.1376 87.7798 75.093 92.7352 81.2058 92.7352C87.3185 92.7352 92.2739 87.7798 92.2739 81.6671V72.9707C92.2739 66.8579 87.3185 61.9025 81.2058 61.9025ZM76.7612 72.4869C78.6609 71.711 80.0084 71.3796 81.2879 71.3897C82.5686 71.3999 83.859 71.7526 85.6494 72.4865C86.0534 72.6521 86.5152 72.4588 86.6808 72.0548C86.8464 71.6508 86.6531 71.1891 86.2491 71.0235C84.3907 70.2617 82.8799 69.8212 81.3005 69.8086C79.7199 69.7961 78.1483 70.2125 76.1634 71.0231C75.7592 71.1882 75.5653 71.6497 75.7304 72.0539C75.8955 72.4581 76.357 72.652 76.7612 72.4869ZM78.3489 75.281C79.6009 74.7565 80.4593 74.5455 81.2583 74.552C82.0585 74.5585 82.8796 74.7835 84.0617 75.2806C84.4642 75.4498 84.9276 75.2608 85.0969 74.8582C85.2661 74.4558 85.077 73.9923 84.6745 73.8231C83.4241 73.2972 82.3777 72.9799 81.2712 72.9709C80.1634 72.9618 79.0758 73.2622 77.738 73.8226C77.3353 73.9914 77.1456 74.4546 77.3143 74.8573C77.483 75.26 77.9462 75.4497 78.3489 75.281Z" fill="white"/>
                <path d="M97.805 76.0485C97.7583 75.3953 97.1909 74.9035 96.5376 74.9501C95.8844 74.9968 95.3926 75.5642 95.4393 76.2175C95.9154 82.8835 94.1731 87.7472 91.4584 90.9277C88.7386 94.1141 84.9711 95.6999 81.2058 95.6999C77.4404 95.6999 73.673 94.1141 70.9531 90.9277C68.2384 87.7472 66.4961 82.8835 66.9723 76.2175C67.019 75.5642 66.5272 74.9968 65.8739 74.9501C65.2206 74.9035 64.6532 75.3953 64.6066 76.0485C64.0945 83.2177 65.9593 88.7303 69.1492 92.4675C72.334 96.1986 76.7688 98.0716 81.2058 98.0716C85.6427 98.0716 90.0775 96.1986 93.2624 92.4675C96.4523 88.7303 98.3171 83.2177 97.805 76.0485Z" fill="white"/>
                <defs>
                <linearGradient id="paint0_linear_12_562" x1="80.9999" y1="27.8492" x2="80.9999" y2="133.305" gradientUnits="userSpaceOnUse">
                <stop stop-color="#363740"/>
                <stop offset="1" stop-color="#363740" stop-opacity="0"/>
                </linearGradient>
                <radialGradient id="paint1_radial_12_562" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(80.9999 80.5769) rotate(90) scale(40.6442)">
                <stop stop-color="#D9D9D9" stop-opacity="0"/>
                <stop offset="1" stop-color="#6AE1D1" stop-opacity="0.26"/>
                </radialGradient>
                <linearGradient id="paint2_linear_12_562" x1="80.9999" y1="39.9327" x2="80.9999" y2="121.221" gradientUnits="userSpaceOnUse">
                <stop stop-color="#BABBC2"/>
                <stop offset="1" stop-color="#67686F"/>
                </linearGradient>
                </defs>
            </svg> 
        </button>
    </div>

    <script>
        
        let svgState = 0;
        let textState = 0;

        document.addEventListener("DOMContentLoaded", function() {
            // Ensure the DOM has been loaded before setting up the event listeners
            document.getElementById('nameForm').addEventListener('submit', function(e) {
            
                e.preventDefault(); // Prevent the form from refreshing the page.

                let firstname = document.getElementById('firstname').value;

                // Display the greeting
                let hitextElement = document.getElementById('hiText');
                hitextElement.innerText = `Hi, ${firstname}`;
                showElement(hitextElement);
                hideElement(document.getElementById('nameForm'));
                
                // After 2 seconds, hide the greeting and show the UI interface
                setTimeout(function() {
                    hideElement(hitextElement);
                    showElement(document.getElementById('uiInterface'));
                    // 2 seconds after the UI interface appears, remove the removeAfter from the DOM
                    setTimeout(function() {
                        let removeAfter = document.getElementById('removeAfter');
                        removeAfter.classList.add('fade'); // Start fade-out
                        removeAfter.remove(); // Remove from DOM after fade-out
                    }, 320);            
                }, 2400);
            });
        });

        function showElement(element) {
            element.classList.add('show');
        }

        function hideElement(element) {
            element.classList.remove('show');
        }

        function showElement(element) {
            element.classList.add('show');
        }

        function hideElement(element) {
            element.classList.remove('show');
        }

        function handleButtonClick() {
            toggleSvg();
            changeText();
        }

        function toggleSvg() {
            let svgElement = document.getElementById('buttonSvg');

            if (svgState === 0) {
                // Change to the second SVG content
                startRecording()
                svgElement.innerHTML = `
                    <circle cx="80.9999" cy="80.5768" r="79.568" fill="#1F222A" stroke="#2E2F38" stroke-width="0.953112"/>
                    <circle cx="80.9999" cy="80.5769" r="53.0309" fill="#2C2D35" stroke="url(#paint0_linear_8_442)" stroke-width="0.606595"/>
                    <circle cx="80.9999" cy="80.5769" r="40.4104" fill="url(#paint1_radial_8_442)" stroke="url(#paint2_linear_8_442)" stroke-width="0.467584"/>
                    <rect width="28" height="28" transform="translate(67 67)" fill="white"/>
                    <defs>
                    <linearGradient id="paint0_linear_8_442" x1="80.9999" y1="27.8492" x2="80.9999" y2="133.305" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#363740"/>
                    <stop offset="0.284903" stop-color="#363740" stop-opacity="0.715097"/>
                    <stop offset="1" stop-color="#363740" stop-opacity="0"/>
                    </linearGradient>
                    <radialGradient id="paint1_radial_8_442" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(80.9999 80.5769) rotate(90) scale(40.6442)">
                    <stop stop-color="#D9D9D9" stop-opacity="0"/>
                    <stop offset="1" stop-color="#FA00FF"/>
                    </radialGradient>
                    <linearGradient id="paint2_linear_8_442" x1="80.9999" y1="39.9327" x2="80.9999" y2="121.221" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#BABBC2"/>
                    <stop offset="1" stop-color="#67686F"/>
                    </linearGradient>
                    </defs>
                `;
                svgState = 1;
            } else {
                // Change back to the initial SVG content
                stopRecording() 
                svgElement.innerHTML = `
                    <circle cx="80.9999" cy="80.5768" r="79.568" fill="#1F222A" stroke="#2E2F38" stroke-width="0.953112"/>
                    <circle cx="80.9999" cy="80.5769" r="53.0309" fill="#2C2D35" stroke="url(#paint0_linear_12_562)" stroke-width="0.606595"/>
                    <circle cx="80.9999" cy="80.5769" r="40.4104" fill="url(#paint1_radial_12_562)" stroke="url(#paint2_linear_12_562)" stroke-width="0.467584"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M81.2058 61.9025C75.093 61.9025 70.1376 66.8579 70.1376 72.9707V81.6671C70.1376 87.7798 75.093 92.7352 81.2058 92.7352C87.3185 92.7352 92.2739 87.7798 92.2739 81.6671V72.9707C92.2739 66.8579 87.3185 61.9025 81.2058 61.9025ZM76.7612 72.4869C78.6609 71.711 80.0084 71.3796 81.2879 71.3897C82.5686 71.3999 83.859 71.7526 85.6494 72.4865C86.0534 72.6521 86.5152 72.4588 86.6808 72.0548C86.8464 71.6508 86.6531 71.1891 86.2491 71.0235C84.3907 70.2617 82.8799 69.8212 81.3005 69.8086C79.7199 69.7961 78.1483 70.2125 76.1634 71.0231C75.7592 71.1882 75.5653 71.6497 75.7304 72.0539C75.8955 72.4581 76.357 72.652 76.7612 72.4869ZM78.3489 75.281C79.6009 74.7565 80.4593 74.5455 81.2583 74.552C82.0585 74.5585 82.8796 74.7835 84.0617 75.2806C84.4642 75.4498 84.9276 75.2608 85.0969 74.8582C85.2661 74.4558 85.077 73.9923 84.6745 73.8231C83.4241 73.2972 82.3777 72.9799 81.2712 72.9709C80.1634 72.9618 79.0758 73.2622 77.738 73.8226C77.3353 73.9914 77.1456 74.4546 77.3143 74.8573C77.483 75.26 77.9462 75.4497 78.3489 75.281Z" fill="white"/>
                    <path d="M97.805 76.0485C97.7583 75.3953 97.1909 74.9035 96.5376 74.9501C95.8844 74.9968 95.3926 75.5642 95.4393 76.2175C95.9154 82.8835 94.1731 87.7472 91.4584 90.9277C88.7386 94.1141 84.9711 95.6999 81.2058 95.6999C77.4404 95.6999 73.673 94.1141 70.9531 90.9277C68.2384 87.7472 66.4961 82.8835 66.9723 76.2175C67.019 75.5642 66.5272 74.9968 65.8739 74.9501C65.2206 74.9035 64.6532 75.3953 64.6066 76.0485C64.0945 83.2177 65.9593 88.7303 69.1492 92.4675C72.334 96.1986 76.7688 98.0716 81.2058 98.0716C85.6427 98.0716 90.0775 96.1986 93.2624 92.4675C96.4523 88.7303 98.3171 83.2177 97.805 76.0485Z" fill="white"/>
                    <defs>
                    <linearGradient id="paint0_linear_12_562" x1="80.9999" y1="27.8492" x2="80.9999" y2="133.305" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#363740"/>
                    <stop offset="1" stop-color="#363740" stop-opacity="0"/>
                    </linearGradient>
                    <radialGradient id="paint1_radial_12_562" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(80.9999 80.5769) rotate(90) scale(40.6442)">
                    <stop stop-color="#D9D9D9" stop-opacity="0"/>
                    <stop offset="1" stop-color="#6AE1D1" stop-opacity="0.26"/>
                    </radialGradient>
                    <linearGradient id="paint2_linear_12_562" x1="80.9999" y1="39.9327" x2="80.9999" y2="121.221" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#BABBC2"/>
                    <stop offset="1" stop-color="#67686F"/>
                    </linearGradient>
                    </defs>
                `;
                svgState = 0;
            }
        }

        function captureVoice() {
            fetch('/voice', {
                    method: 'POST'
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.getElementById('output').innerText = data.text;
                    } else {
                        alert(data.error || 'Error processing voice.');
                    }
                });
        }

        function changeText() {
            let textElement = document.getElementById('recordText');
            
            if (textState === 0) {
                textElement.innerText = `Press stop button to submit your voice message`;
                textElement.style.color = '#FA00FF'; 
                textState = 1;
            } else {
                textElement.innerText = `Press audio button to start a conversation`;
                textElement.style.color = '#000000'; 
                textState = 0;
            }
        }
                
        let mediaRecorder;
        let audioChunks = [];

        async function startRecording() {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            mediaRecorder = new MediaRecorder(stream);
            mediaRecorder.ondataavailable = event => {
                audioChunks.push(event.data);
            };
            mediaRecorder.onstop = async () => {
                const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                uploadAudio(audioBlob);
            };
            mediaRecorder.start();
        }

        function stopRecording() {
            if (mediaRecorder) {
                mediaRecorder.stop();
            }
        }

        async function uploadAudio(audioBlob) {
            const formData = new FormData();
            formData.append("audio", audioBlob, "recording.wav");
            const response = await fetch('/upload', {
                method: "POST",
                body: formData
            });
            const data = await response.json();
            console.log(data);  // Handle the response from Flask here.
            const audio = new Audio(data.audio_path);
            audio.play();
        }

        function handleResponse(data) {
            const audio = new Audio(data.audio_path);
            audio.play();
        }
    </script>
</body>
</html>
